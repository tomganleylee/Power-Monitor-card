{
  "permissions": {
    "allow": [
      "Bash(pwsh:*)",
      "Bash(powershell.exe:*)",
      "Bash(npm install)",
      "Bash(npm run build)",
      "Bash(npm install:*)",
      "Bash(dir dist)",
      "Bash(ssh-keygen:*)",
      "Bash(cat:*)",
      "Bash(ssh:*)",
      "Read(//c/Users/TOMGA/.config/**)",
      "Bash(curl -X POST )",
      "Bash(http://192.168.3.12:8123/api/config/www/energy-flow-card.js)",
      "Bash(powershell:*)",
      "Read(//c/Users/TOMGA/.ssh/**)",
      "Bash(scp:*)",
      "Bash(git clone:*)",
      "Read(//c/Claude Projects/ha-mcp-tools/**)",
      "Bash(python:*)",
      "Bash(curl -s -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiI1ZGViNDY5MjBhYTE0OTQyOGE4ZmU3NDUwMTNlMjcyYSIsImlhdCI6MTczNjgwOTA0MCwiZXhwIjoyMDUyMTY5MDQwfQ.yKWEKSIRNwdKPKKoY9vp1zKoX6qK5h8Tj3OP5z61W8Q\" http://192.168.3.12:8123/api/lovelace/resources)",
      "Bash(curl -s \"https://raw.githubusercontent.com/grillp/ha-custom-card-rollup-ts-lit-starter/main/src/editor.ts\")",
      "Bash(curl -s \"https://raw.githubusercontent.com/grillp/ha-custom-card-rollup-ts-lit-starter/main/rollup.config.mjs\")",
      "Bash(curl -s \"https://raw.githubusercontent.com/grillp/ha-custom-card-rollup-ts-lit-starter/main/src/common.ts\")",
      "Bash(curl -s \"https://raw.githubusercontent.com/custom-cards/button-card/master/src/button-card.ts\")",
      "Bash(curl -s \"http://192.168.3.12:8123/local/mushroom.js?hacstag=444350375450\")",
      "Bash(curl -s \"http://192.168.3.12:8123/local/button-card.js?hacstag=146194325430\")",
      "Bash(curl -s \"https://raw.githubusercontent.com/home-assistant/frontend/dev/src/panels/lovelace/create-element/create-element-base.ts\")",
      "Bash(curl -X POST -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiI1ZGViNDY5MjBhYTE0OTQyOGE4ZmU3NDUwMTNlMjcyYSIsImlhdCI6MTczNjgwOTA0MCwiZXhwIjoyMDUyMTY5MDQwfQ.yKWEKSIRNwdKPKKoY9vp1zKoX6qK5h8Tj3OP5z61W8Q\" -F \"file=@energy-flow-card/dist/energy-flow-card.js\" http://192.168.3.12:8123/api/config/www/)",
      "Bash(curl -s -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiI1ZGViNDY5MjBhYTE0OTQyOGE4ZmU3NDUwMTNlMjcyYSIsImlhdCI6MTczNjgwOTA0MCwiZXhwIjoyMDUyMTY5MDQwfQ.yKWEKSIRNwdKPKKoY9vp1zKoX6qK5h8Tj3OP5z61W8Q\" http://192.168.3.12:8123/api/states)",
      "Bash(curl -X POST \"http://192.168.3.12:8123/api/services/shell_command/copy_file_from_www\" -H \"Authorization: Bearer dKHU3cvqlhM-uZrXWdzkJG18w1okcVvwCmDe4D8Ed7Y\" -H \"Content-Type: application/json\" -d '{\"\"source\"\": \"\"/tmp/energy-flow-card.js\"\", \"\"destination\"\": \"\"/config/www/energy-flow-card.js\"\"}')",
      "Bash(curl -s -H \"Authorization: Bearer dKHU3cvqlhM-uZrXWdzkJG18w1okcVvwCmDe4D8Ed7Y\" http://192.168.3.12:8123/api/states -o ha_all_states.json)",
      "Bash(curl:*)",
      "Bash(gh auth:*)",
      "Bash(git config:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git tag:*)",
      "Bash(gh release create v1.0.1 --title \"v1.0.1 - Visual Improvements\" --notes \"$(cat <<''EOF''\n## What''s Changed\n\n### Visual Improvements\n- ‚ú® Removed statistics bar by default (set `show_statistics: false` as default)\n- ‚ú® Added total power consumption display on the home/hub icon\n- ‚ú® Increased canvas height (min: 600px, max: 1000px) to ensure all devices are visible\n- üêõ Fixed devices being cut off at the bottom of the card\n\n### Developer Features\n- üîß Added styled version logging to console for easy verification\n- üìù Version now displays as \"‚ö° Energy Flow Card 1.0.1 loaded successfully\" with colors\n\n## How to Update\n1. Go to HACS ‚Üí Frontend\n2. Find Energy Flow Card\n3. Click Update (you should see v1.0.1 available)\n4. Hard refresh your browser (Ctrl+Shift+R)\n\n**Full Changelog**: https://github.com/tomganleylee/Power-Monitor-card/compare/v1.0.0...v1.0.1\nEOF\n)\")",
      "Bash(\"C:\\Program Files\\GitHub CLI\\gh.exe\" release create:*)",
      "Bash(\"C:\\Program Files\\GitHub CLI\\gh.exe\" release delete v1.0.3 --yes)",
      "Bash(\"C:\\Program Files\\GitHub CLI\\gh.exe\" release create v1.0.10 --title \"v1.0.10 - Sankey Graph Improvements\" --notes \"$(cat <<''EOF''\n## What''s Changed\n\n### Sankey Graph Improvements\n- ‚ú® Updated Sankey renderer with latest improvements\n- üîß Version bump to 1.0.10\n\nThis release includes the latest changes to the Sankey flow visualization you made.\n\n## How to Update\n1. Go to HACS ‚Üí Frontend\n2. Find Energy Flow Card\n3. Click Update (you should see v1.0.10 available)\n4. Hard refresh your browser (Ctrl+Shift+R or Cmd+Shift+R)\n\n**Full Changelog**: https://github.com/tomganleylee/Power-Monitor-card/compare/v1.0.9...v1.0.10\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\" --repo tomganleylee/Power-Monitor-card)",
      "Bash(\"C:\\Program Files\\GitHub CLI\\gh.exe\" release create v1.0.11 --title \"v1.0.11 - Multi-Column Responsive Layout\" --notes \"$(cat <<''EOF''\n## What''s Changed\n\n### Multi-Column Responsive Layout\n- ‚ú® **Responsive layout** that adapts to screen size:\n  - **Narrow screens** (< 500px): 1 column layout\n  - **Medium screens** (500-800px): 2 column layout  \n  - **Wide screens** (> 800px): 3 column layout\n- üìê Better use of horizontal space\n- üîÑ Devices distribute across columns automatically\n- üì± Perfect for mobile, tablet, and desktop displays\n\n### How It Works\nThe card now detects your canvas width and automatically adjusts the number of columns:\n- Single column for phones\n- Two columns for tablets\n- Three columns for desktops\n\nDevices are distributed in a round-robin pattern across columns, making optimal use of available space.\n\n### Configuration\n**No config changes required!** The layout automatically adapts to your card width.\n\nYour existing config will work perfectly. The card will just look better on different screen sizes.\n\n## How to Update\n1. Go to HACS ‚Üí Frontend\n2. Find Energy Flow Card\n3. Click Update (you should see v1.0.11 available)\n4. Hard refresh your browser (Ctrl+Shift+R or Cmd+Shift+R)\n\n**Full Changelog**: https://github.com/tomganleylee/Power-Monitor-card/compare/v1.0.10...v1.0.11\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\" --repo tomganleylee/Power-Monitor-card)",
      "Bash(\"C:\\Program Files\\GitHub CLI\\gh.exe\" release create v1.0.14 --title \"v1.0.14 - Improved Layout & Larger Hub\" --notes \"$(cat <<''EOF''\n## What''s Changed\n\n### Layout Improvements\n- üîÑ **Repositioned Grid to far left** (10% from left edge)\n- ‚ö° **Solar and Battery now positioned in the middle** between Grid and Hub (30% from left)\n- üè† **Hub (house) icon is now larger** - increased from 30px to 50px radius for better visibility\n- üìê Better visual balance and spacing between all source nodes\n\n### Visual Impact\nThe new layout creates a clearer energy flow visualization:\n- **Grid** (far left) ‚Üí **Solar/Battery** (middle) ‚Üí **Hub** (center) ‚Üí **Devices** (right)\n\nThis makes it easier to see the flow of energy through your system at a glance.\n\n### Technical Changes\n- Grid X position: 15% ‚Üí 10%\n- Solar X position: 22% ‚Üí 30%  \n- Battery X position: 22% ‚Üí 30%\n- Hub radius: 30px ‚Üí 50px\n\n## How to Update\n1. Go to HACS ‚Üí Frontend\n2. Find Energy Flow Card\n3. Click Update (you should see v1.0.14 available)\n4. Hard refresh your browser (Ctrl+Shift+R or Cmd+Shift+R)\n\n**Full Changelog**: https://github.com/tomganleylee/Power-Monitor-card/compare/v1.0.13...v1.0.14\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\" --repo tomganleylee/Power-Monitor-card)",
      "Bash(\"C:\\Program Files\\GitHub CLI\\gh.exe\" release create v1.0.15 --title \"v1.0.15 - Enhanced Flow Debug Logging\" --notes \"$(cat <<''EOF''\n## What''s Changed\n\n### Enhanced Debug Logging\n- üîç **Improved console debug output** for diagnosing energy flow issues\n- üìä Now shows individual flows with clear direction: `grid ‚Üí battery: 2972W`\n- üé® Displays color codes for each flow\n- üêõ Makes it much easier to debug flow direction problems\n\n### Console Output Format\n```\n=== ENERGY FLOW DEBUG ===\nInput Values: {solar: 8, battery: -2972, grid: -4453, totalLoad: 2430.8}\nCalculated Flows:\n  grid ‚Üí battery: 2972W (#f44336)\n  grid ‚Üí hub: 1481W (#f44336)\n```\n\nThis detailed logging helps identify if energy flows are being calculated correctly and whether any visualization issues are in the renderer.\n\n## How to Update\n1. Go to HACS ‚Üí Frontend\n2. Find Energy Flow Card\n3. Click Update (you should see v1.0.15 available)\n4. Hard refresh your browser (Ctrl+Shift+R or Cmd+Shift+R)\n5. Open browser console (F12) to see the enhanced debug output\n\n**Full Changelog**: https://github.com/tomganleylee/Power-Monitor-card/compare/v1.0.14...v1.0.15\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\" --repo tomganleylee/Power-Monitor-card)",
      "Bash(\"C:\\Program Files\\GitHub CLI\\gh.exe\" release create v1.0.16 --title \"v1.0.16 - Fix Sankey Flow Animation Direction\" --notes \"$(cat <<''EOF''\n## What''s Changed\n\n### Critical Fix: Sankey Flow Animation Direction\n- üêõ **Fixed animated gradient flowing backwards** - visuals now match actual energy flow direction\n- ‚úÖ Bright pulse now travels from source to destination (not backwards!)\n- ‚úÖ Makes energy flow direction immediately clear and intuitive\n- ‚úÖ No more visual confusion about which way energy is flowing\n\n### Technical Details\nThe animated gradient in Sankey flows was calculated in reverse, making the bright pulse travel backwards along the path. This created visual confusion where a `grid ‚Üí battery` flow looked like it was going from battery to grid.\n\n**Fixed by**:\n- Reversed gradient start/end points\n- Gradient now originates at destination and flows toward source\n- Creates correct visual motion along the Bezier curve path\n\n### Example\nBefore: Grid‚ÜíBattery flow appeared to flow Battery‚ÜíGrid (confusing!)\nAfter: Grid‚ÜíBattery flow clearly shows energy moving from Grid to Battery ‚úÖ\n\n## How to Update\n1. Go to HACS ‚Üí Frontend\n2. Find Energy Flow Card\n3. Click Update (you should see v1.0.16 available)  \n4. Hard refresh your browser (Ctrl+Shift+R or Cmd+Shift+R)\n\n**Full Changelog**: https://github.com/tomganleylee/Power-Monitor-card/compare/v1.0.15...v1.0.16\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\nEOF\n)\" --repo tomganleylee/Power-Monitor-card)"
    ],
    "deny": [],
    "ask": []
  }
}
